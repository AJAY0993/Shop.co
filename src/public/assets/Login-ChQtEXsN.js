import{b as m,u as p,A as d,_ as l,C as g,r as c,j as e}from"./index-BMyKNlCa.js";import{l as f,A as r}from"./authApi-Bw9K2jdU.js";import"./Button-4SsAZAd0.js";import"./Subtitle-Cqx07ZsU.js";function x(){const s=m(),o=p(),{mutate:t,isPending:i,isError:a,error:u}=d({mutationFn:f,onSuccess:n=>{l.success(`${n.username} welcome`),s(g(n)),o("/shop")},onError:n=>{l.error(n.message)}});return{login:t,isPending:i,isError:a,error:u}}function h(){const s=c.useRef(),o=c.useRef(),{login:t,isPending:i}=x(),a=u=>{if(u.preventDefault(),!s.current.value||!o.current.value){l.error("Please provide required field");return}t({email:s.current.value,password:o.current.value})};return e.jsx(r,{children:e.jsxs(r.Container,{children:[e.jsxs(r.Form,{title:"login",subtitle:"Welcome back to Shop.co",onSubmit:a,btnText:"login",submitting:i,children:[e.jsx(r.Row,{label:"email",placeholder:"email",name:"email",ref:s}),e.jsx(r.Row,{label:"password",placeholder:"password",name:"password",ref:o})]}),e.jsx(r.Footer,{text:"dont't have an account",linkText:"sign up",to:"/signup"})]})})}function R(){return e.jsx("div",{children:e.jsx(h,{})})}export{R as default};
