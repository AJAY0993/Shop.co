import{b as m,u as p,L as g,_ as u,M as d,r as c,j as e}from"./index-BiHZEt9I.js";import{l as x,A as s}from"./authApi-Bz9_iaSZ.js";import"./Button-MOtH8c94.js";import"./Subtitle-Cf0Sp6AK.js";function f(){const o=m(),n=p(),{mutate:r,isPending:i,isError:a,error:l}=g({mutationFn:x,onSuccess:t=>{u.success(`${t.username} welcome`),o(d(t)),n("/shop")},onError:t=>{u.error(t.message)}});return{login:r,isPending:i,isError:a,error:l}}function h(){const o=c.useRef(),n=c.useRef(),{login:r,isPending:i}=f(),a=l=>{l.preventDefault(),r({email:o.current.value,password:n.current.value})};return e.jsx(s,{children:e.jsxs(s.Container,{children:[e.jsxs(s.Form,{title:"login",subtitle:"Welcome back to Shop.co",onSubmit:a,btnText:"login",submitting:i,children:[e.jsx(s.Row,{label:"email",placeholder:"email",name:"email",ref:o}),e.jsx(s.Row,{label:"password",placeholder:"password",name:"password",ref:n})]}),e.jsx(s.Footer,{text:"dont't have an account",linkText:"sign up",to:"/signup"})]})})}function R(){return e.jsx("div",{children:e.jsx(h,{})})}export{R as default};
