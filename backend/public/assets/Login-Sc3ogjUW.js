import{a as m,f as d,b as p,_ as u,l as g,r as c,j as e}from"./index-Dxkm9OBN.js";import{A as s}from"./AuthForm-D28z3Hl6.js";import{a as f}from"./authApi-4w_02Nnt.js";

function x(){const t=m(); const n=d(); const {mutate:o,isPending:a,isError:i,error:l}=p({mutationFn:f,onSuccess:r=>{u.success(`${r.username} welcome`),t(g(r)),n("/shop")},onError:r=>{u.error(r.message)}});return{login:o,isPending:a,isError:i,error:l}}const h={email:"test@email.com",password:"loremipsum"};function b(){const t=c.useRef(); const n=c.useRef(); const {login:o,isPending:a}=x(); const i=l=>{if(l.preventDefault(),!t.current.value||!n.current.value){u.error("Please provide required field");return}o({email:t.current.value,password:n.current.value})};return e.jsx(s,{children:e.jsxs(s.Container,{children:[e.jsxs(s.Form,{title:"login",subtitle:"Welcome back to Shop.co",onSubmit:i,btnText:"login",submitting:a,children:[e.jsx(s.Row,{label:"email",placeholder:"email",name:"email",ref:t}),e.jsx(s.Row,{label:"password",placeholder:"password",name:"password",type:"password",ref:n})]}),e.jsx(s.Footer,{text:"dont't have an account",linkText:"sign up",to:"/signup"}),e.jsxs("p",{className:"my-2",children:["Continue with"," ",e.jsx("button",{className:"bg-transparent font-bold",onClick:()=>{o(h)},children:"guest credentials"})]})]})})}function R(){return e.jsx("div",{children:e.jsx(b,{})})}export{R as default};
