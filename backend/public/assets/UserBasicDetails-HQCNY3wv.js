import{u as h,a as j,b as g,c as N,_ as f,l as w,r,j as e,d as m,g as v,e as R,S as x,N as U,B as P}from"./index-00F4N1Wb.js";function y(){h();const s=j(),{mutate:t,isUpdating:i,isError:o,error:n}=g({mutationFn:N,onSuccess:a=>{f.success("Profile updated successfully"),s(w(a))},onError:a=>{f.error(a.message)}});return{updateMe:t,isUpdating:i,isError:o,error:n}}const F=r.forwardRef(({profilePic:s},t)=>e.jsx("div",{className:"relative   overflow-hidden",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{className:"aspect-square max-h-12 rounded-full",src:s,alt:"user avatar"}),e.jsx("label",{className:"cursor-pointer rounded bg-stone-200 px-2 py-1 text-base font-medium capitalize text-stone-900 transition-all hover:bg-stone-300 active:bg-stone-400",htmlFor:"profilePic",children:"change"}),e.jsx("input",{className:"absolute h-0 w-0",id:"profilePic",type:"file",name:"profilePic",ref:t})]})})),M=r.forwardRef(({username:s},t)=>e.jsxs("div",{className:"grow-1 w-full",children:[e.jsx("label",{className:"text-base font-normal text-stone-400",htmlFor:"",children:"Username"}),e.jsx("input",{className:" w-full border-b-2 border-stone-400 px-0 text-left text-lg focus:border-stone-800 focus:outline-0 ",defaultValue:s,name:"username",ref:t})]})),S=r.forwardRef(({address:s},t)=>e.jsxs("div",{className:"grow-1 w-full",children:[e.jsx("label",{className:"text-base font-normal capitalize text-stone-400",htmlFor:"address",children:"address"}),e.jsx("input",{className:" w-full border-b-2 border-stone-400 px-0 text-left text-lg focus:border-stone-800 focus:outline-0 ",defaultValue:s,name:"address",ref:t})]})),E=r.forwardRef(({mobileNumber:s},t)=>e.jsxs("div",{className:"grow-1 w-full",children:[e.jsx("label",{className:"text-base font-normal text-stone-400",htmlFor:"mobile",children:"Mobile Number"}),e.jsx("input",{className:" w-full border-b-2 border-stone-400 px-0 text-left text-lg focus:border-stone-800 focus:outline-0 ",type:"tel",defaultValue:s,name:"mobileNumber",ref:t})]})),B=r.forwardRef(({email:s},t)=>e.jsxs("div",{className:"grow-1 w-full",children:[e.jsx("label",{className:"text-base font-normal text-stone-400",htmlFor:"email",children:"Email"}),e.jsx("input",{className:" w-full border-b-2 border-stone-400 px-0 text-left text-lg focus:border-stone-800 focus:outline-0 ",defaultValue:s,name:"email",ref:t})]}));function z(){const s=m(v),t=m(R),{updateMe:i,isUpdating:o}=y(),n=r.useRef(),a=r.useRef(),u=r.useRef(),c=r.useRef(),d=r.useRef(),p=b=>{b.preventDefault();const l={};l.username=a.current.value,l.email=u.current.value,l.address=c.current.value,l.mobileNumber=d.current.value,n.current.files.length>0&&(l.profilePic=n.current.files[0]),i(l)};return o?e.jsx(x,{}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative p-2",children:[!t&&e.jsx(U,{to:"/login",replace:!0}),e.jsxs("form",{className:"m-auto flex w-full flex-col items-start gap-8  sm:w-[30rem]",encType:"multipart/form-data",onSubmit:p,children:[e.jsx(F,{profilePic:s.profilePic,ref:n}),e.jsx(M,{username:s.username,ref:a}),e.jsx(B,{email:s.email,ref:u}),e.jsx(E,{mobileNumber:s.mobileNumber,ref:d}),e.jsx(S,{address:s.address,ref:c}),e.jsx(P,{type:"primary",size:"sm",disabled:o,children:o?e.jsx(x,{inButton:!0}):"Save"})]})]})})}export{z as default};
